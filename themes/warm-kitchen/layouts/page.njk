---
layout: layouts/base.njk
---
<article class="recipe-page" data-pagefind-body>
    {% if image %}
    <img data-pagefind-meta="image[src]" src="{{ image }}" alt="{{ title }}" hidden />
    {% endif %}
    <div class="recipe-content">{{ content | safe }}</div>

    {% if tags or prep_time or cook_time or servings %}
    <div class="recipe-meta-section" data-pagefind-ignore>
        {% if tags %}
        {% set displayTags = tags | filterTagList %}
        {% if displayTags.length %}
        <div class="recipe-tags">
            {% for tag in displayTags %}
            <a href="/tags/{{ tag | slugify }}/"
               class="tag-badge"
               data-pagefind-filter="tag">{{ tag }}</a>
            {% endfor %}
        </div>
        {% endif %}
        {% endif %}

        {% if prep_time or cook_time or servings %}
        <div class="recipe-meta">
            {% if prep_time %}<span class="meta-item">Prep: {{ prep_time }}</span>{% endif %}
            {% if cook_time %}<span class="meta-item">Cook: {{ cook_time }}</span>{% endif %}
            {% if servings %}<span class="meta-item">Servings: {{ servings }}</span>{% endif %}
        </div>
        {% endif %}
    </div>
    {% endif %}

    {# Commented out until we have a better style for recipe cascade/provenance
    {% if source %}
    <footer class="recipe-footer">
        <div class="recipe-source">
            <strong>Source:</strong>
            {% for src in source %}
            <span>{{ src }}</span>
            {% endfor %}
        </div>
    </footer>
    {% endif %}
    #}

    {% include "partials/backlinks.njk" %}

    {# Graph visualizer â€” shown when the "graph" visualizer is bundled for this site.
       browser.js hides the container automatically when only_if_linked:true and
       the page has no connections. Per-page overrides via frontmatter graph: key. #}
    {% for vis in visualizers %}{% if vis.name == "graph" and vis.hasJs %}
    <div class="graph-visualizer"
         data-current-page="{{ page.url }}"
         {% if graph %}data-page-settings='{{ graph | dump }}'{% endif %}></div>
    {% endif %}{% endfor %}
</article>
