<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>{% if page.url == "/" %}{{ site.title }}{% else %}{{ title }} | {{ site.title }}{% endif %}</title>

    <!-- Meta description -->
    <meta
        name="description"
        content="{% if description %}{{ description }}{% else %}{{ site.description }}{% endif %}"
    />

    <!-- Canonical URL -->
    <link rel="canonical" href="{{ site.url }}{{ page.url }}" />

    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="{% if layout %}article{% else %}website{% endif %}" />
    <meta property="og:site_name" content="{{ site.title }}" />
    <meta property="og:url" content="{{ site.url }}{{ page.url }}" />
    <meta property="og:title" content="{% if page.url == '/' %}{{ site.title }}{% else %}{{ title }}{% endif %}" />
    <meta property="og:description" content="{% if description %}{{ description }}{% else %}{{ site.description }}{% endif %}" />
    {% if image %}
    <meta property="og:image" content="{{ site.url }}{{ image }}" />
    <meta property="og:image:width" content="1200" />
    <meta property="og:image:type" content="{% if '.gif' in image %}image/gif{% elif '.png' in image %}image/png{% else %}image/jpeg{% endif %}" />
    {% endif %}

    <!-- Twitter -->
    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:url" content="{{ site.url }}{{ page.url }}" />
    <meta name="twitter:title" content="{% if page.url == '/' %}{{ site.title }}{% else %}{{ title }}{% endif %}" />
    <meta name="twitter:description" content="{% if description %}{{ description }}{% else %}{{ site.description }}{% endif %}" />
    {% if image %}
    <meta name="twitter:image" content="{{ site.url }}{{ image }}" />
    {% endif %}

    <!-- RSS Feed -->
    <link rel="alternate" type="application/atom+xml" title="{{ site.title }}" href="/feed.xml" />

    <!-- Favicon -->
    <link rel="icon" type="image/png" href="/favicon.png" />

    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
        href="https://fonts.googleapis.com/css2?family=Crimson+Pro:wght@400;600;700&family=Inter:wght@400;500;600&display=swap"
        rel="stylesheet"
    />

    <!-- Stylesheets -->
    <link rel="stylesheet" href="/assets/css/main.css" />
    <!-- Visualizer stylesheets (auto-generated from lib/visualizers/) -->
    {% for vis in visualizers %}{% if vis.hasCss %}
    <link rel="stylesheet" href="/assets/css/visualizers/{{ vis.name }}.css" />
    {% endif %}{% endfor %}
</head>
