{{ define "main" }}
<div class="home-page">
    <header class="home-header">
        <h1>{{ .Site.Title }}</h1>
        <p class="home-tagline">{{ .Site.Params.description }}</p>
    </header>

    <div class="home-sections">
        <section class="home-section">
            <h2>Recent Recipes</h2>
            <div class="recipe-list">
                {{ range first 10 (where .Site.RegularPages "Section" "recipes")
                }}
                <a href="{{ .RelPermalink }}" class="recipe-card-link">
                    <article class="recipe-card">
                        {{ if .Summary }}
                        <div class="recipe-summary">
                            {{ .Summary | truncate 100 }}
                        </div>
                        {{ end }}
                    </article>
                </a>
                {{ end }}
            </div>
            <a href="/recipes/" class="view-all">View all recipes →</a>
        </section>

        {{ if .Site.GetPage "/resources" }}
        <section class="home-section">
            <h2>Resources</h2>
            <div class="recipe-list">
                {{ range first 5 (where .Site.RegularPages "Section"
                "resources") }}
                <a href="{{ .RelPermalink }}" class="recipe-card-link">
                    <article class="recipe-card">
                        <div class="recipe-summary">{{ .Title }}</div>
                    </article>
                </a>
                {{ end }}
            </div>
            <a href="/resources/" class="view-all">View all resources →</a>
        </section>
        {{ end }}
    </div>
</div>
{{ end }}
